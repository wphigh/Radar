jQuery(document).ready(function(e){jQuery.fn.rPage=function(){function i(i){this.label=function(){var i=this.els.filter(".active").index(),t=this;this.els.each(function(){e(this).addClass(0==t.isNextOrPrevLink(e(this))?"page-away-"+Math.abs(i-e(this).index()).toString():e(this).index()>i?"right-etc":"left-etc")})},this.makeResponsive=function(){this.reset();for(var e=this.calculateWidth();e>this.els.parent().parent().outerWidth()-10;){var i=this.removeOne();if(0==i)break;e=this.calculateWidth()}},this.isNextOrPrevLink=function(e){return"»"==e.text()||"«"==e.text()?!0:!1},this.isRemovable=function(e){if(this.isNextOrPrevLink(e))return!1;var t=this.els.filter(e).index();return 1==t||this.isNextOrPrevLink(i.find("li").eq(t+1))?!1:"..."==e.text()?!1:!0},this.removeOne=function(){for(var e=this.els.filter(".active").index(),t=i.find("li").length-1,n=t-1;n>0;n--){var s=this.els.filter(".page-away-"+n.toString()),r=s.filter(function(){return"none"!=this.style.display});if(r.length>0)for(var l=0;l<r.length;l++){var a=r.eq(l);if(this.isRemovable(a))return a.css("display","none"),this.needsEtcSign(e,t-1)&&this.els.eq(t-2).before("<li class='disabled removable'><span>...</span></li>"),this.needsEtcSign(1,e)&&this.els.eq(1).after("<li class='disabled removable'><span>...</span></li>"),!0}}return!1},this.needsEtcSign=function(e,t){if(1>=t-e)return!1;for(var n=!1,s=!1,r=e+1;t>r;r++){var l=i.find("li").eq(r);"none"==l.css("display")&&(s=!0),"..."==l.text()&&(n=!0)}return 1==s&&0==n?!0:!1},this.reset=function(){for(var e=0;e<this.els.length;e++)this.els.eq(e).css("display","inline");i.find("li").filter(".removable").remove()},this.calculateWidth=function(){for(var e=0,t=0;t<i.find("li").length;t++)e+=i.find("li").eq(t).children("a").eq(0).outerWidth(),e+=i.find("li").eq(t).children("span").eq(0).outerWidth();return e},this.els=i.find("li"),this.label(),this.makeResponsive();var t;e(window).resize(e.proxy(function(){clearTimeout(t),t=setTimeout(e.proxy(function(){this.makeResponsive()},this),100)},this))}for(var t=e(this),n=0,s=t.length;s>n;n++)new i(e(t[n]))}});